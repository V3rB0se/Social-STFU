<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/.github/workflows/android.yml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/.github/workflows/android.yml" />
              <option name="originalContent" value="name: Android CI&#10;&#10;on:&#10;  push:&#10;    branches: [ &quot;master&quot; ]&#10;  pull_request:&#10;    branches: [ &quot;master&quot; ]&#10;&#10;jobs:&#10;  build:&#10;&#10;    runs-on: ubuntu-latest&#10;&#10;    steps:&#10;    - uses: actions/checkout@v3&#10;    - name: set up JDK 17&#10;      uses: actions/setup-java@v3&#10;      with:&#10;        java-version: '17'&#10;        distribution: 'temurin'&#10;        cache: gradle&#10;&#10;    - name: Grant execute permission for gradlew&#10;      run: chmod +x gradlew&#10;    - name: Build with Gradle&#10;      run: ./gradlew build&#10;" />
              <option name="updatedContent" value="name: Android CI&#10;&#10;on:&#10;  push:&#10;    branches: [ &quot;master&quot; ]&#10;  pull_request:&#10;    branches: [ &quot;master&quot; ]&#10;&#10;jobs:&#10;  build:&#10;&#10;    runs-on: ubuntu-latest&#10;&#10;    steps:&#10;    - uses: actions/checkout@v4&#10;    &#10;    - name: Set up JDK 17&#10;      uses: actions/setup-java@v4&#10;      with:&#10;        java-version: '17'&#10;        distribution: 'temurin'&#10;        cache: gradle&#10;&#10;    - name: Setup Gradle&#10;      uses: gradle/actions/setup-gradle@v4&#10;&#10;    - name: Grant execute permission for gradlew&#10;      run: chmod +x gradlew&#10;      &#10;    - name: Build with Gradle&#10;      run: ./gradlew build --no-daemon&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/TROUBLESHOOTING.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/TROUBLESHOOTING.md" />
              <option name="updatedContent" value="#  Troubleshooting Guide - Social STFU&#10;&#10;## Fixed: NullPointerException&#10;&#10;### What Was Fixed&#10;The NullPointerException was caused by insufficient null safety checks in several methods. The following improvements were made:&#10;&#10;### Changes Made:&#10;&#10;#### 1. MainActivity.java&#10;- **checkStatus()**: Added null checks for `packageName`, `result`, and `result.getOut()`&#10;- **isAppInstalled()**: Added null checks for `packageName` and `PackageManager`&#10;- **onSwitchChanged()**: Added null checks for `item`, `item.packageName`, and `item.appName`&#10;- **onCreate()**: Added null check for `recyclerView` and `exitButton`&#10;- Added try-catch blocks to handle exceptions gracefully&#10;&#10;#### 2. SocialAppAdapter.java&#10;- **bind()**: Added null check for `item` and `item.appName`&#10;- Fixed potential duplicate listener issue by removing old listener before setting new one&#10;- Better handling of switch state changes&#10;&#10;#### 3. Qtile.java&#10;- Removed unused `tile` variable to fix warning&#10;&#10;### Root Cause&#10;The NullPointerException occurred when:&#10;1. Shell commands returned null or empty results&#10;2. Package names were not properly initialized&#10;3. View references were null (layout not properly inflated)&#10;&#10;---&#10;&#10;## Common Issues &amp; Solutions&#10;&#10;### Issue 1: App Crashes on Launch&#10;**Symptoms**: App crashes immediately when opened&#10;**Causes**:&#10;- Layout file not found&#10;- RecyclerView not properly initialized&#10;- Missing string resources&#10;&#10;**Solutions**:&#10;1. Verify layout file exists: `app/src/main/res/layout/activity_main_new.xml`&#10;2. Check all string resources are defined in `strings.xml`&#10;3. Clean and rebuild project&#10;4. Check logcat for specific error messages&#10;&#10;### Issue 2: NullPointerException in checkStatus()&#10;**Symptoms**: Crash when checking app status&#10;**Cause**: Shell command returns null or empty result&#10;&#10;**Solution**: ✅ FIXED - Now includes null checks:&#10;```java&#10;private boolean checkStatus(String packageName) {&#10;    if (packageName == null) {&#10;        return false;&#10;    }&#10;    try {&#10;        Shell.Result result = Shell.cmd(&quot;pm list packages -d&quot;).exec();&#10;        if (result == null || result.getOut() == null) {&#10;            return false;&#10;        }&#10;        String output = TextUtils.join(&quot;\n&quot;, result.getOut());&#10;        return output != null &amp;&amp; output.contains(packageName);&#10;    } catch (Exception e) {&#10;        e.printStackTrace();&#10;        return false;&#10;    }&#10;}&#10;```&#10;&#10;### Issue 3: Root Access Not Working&#10;**Symptoms**: Apps don't actually get disabled&#10;**Causes**:&#10;- Root not granted&#10;- SELinux enforcing mode&#10;- Magisk/SuperSU not working properly&#10;&#10;**Solutions**:&#10;1. Check if root is properly granted: Open app and grant root when prompted&#10;2. Verify in terminal: `su -c &quot;pm list packages -d&quot;`&#10;3. Check Magisk logs for denials&#10;4. Ensure device is properly rooted&#10;&#10;### Issue 4: Icons Not Showing&#10;**Symptoms**: Placeholder circles instead of app icons&#10;**Cause**: Icon drawables not replaced with actual icons&#10;&#10;**Solution**: Download icons from Icons8 and replace placeholders&#10;- See `ICON_SETUP.md` for detailed instructions&#10;- Ensure filenames match exactly&#10;&#10;### Issue 5: RecyclerView is Empty&#10;**Symptoms**: App opens but shows no apps&#10;**Causes**:&#10;- Layout inflation issue&#10;- Adapter not properly set&#10;- Items list is empty&#10;&#10;**Solutions**:&#10;1. Check if `recyclerView` is null in onCreate&#10;2. Verify `appItems` list is populated&#10;3. Check logcat for errors&#10;4. Ensure `item_social_app.xml` exists&#10;&#10;### Issue 6: Switch Doesn't Work&#10;**Symptoms**: Tapping switch doesn't disable apps&#10;**Causes**:&#10;- Root permission denied&#10;- Package name incorrect&#10;- Shell command not executing&#10;&#10;**Solutions**:&#10;1. Grant root permission&#10;2. Test shell command manually: `su -c &quot;pm disable com.whatsapp&quot;`&#10;3. Check package name is correct&#10;4. Look for errors in logcat&#10;&#10;### Issue 7: Dark Mode Not Working&#10;**Symptoms**: App looks wrong in dark mode&#10;**Cause**: Theme not properly applied&#10;&#10;**Solution**: &#10;1. Ensure both theme files exist:&#10;   - `values/themes.xml`&#10;   - `values-night/themes.xml`&#10;2. Clean and rebuild project&#10;3. Force restart app&#10;&#10;### Issue 8: Dynamic Colors Not Working&#10;**Symptoms**: App doesn't match wallpaper colors&#10;**Causes**:&#10;- Android version &lt; 12&#10;- Dynamic colors not supported on device&#10;&#10;**Solutions**:&#10;1. Verify Android version is 12 or higher&#10;2. Fallback colors will be used on older versions (this is normal)&#10;3. Check if Material You is enabled in device settings&#10;&#10;---&#10;&#10;## Debug Checklist&#10;&#10;When troubleshooting issues:&#10;&#10;- [ ] Check Android Studio logcat for error messages&#10;- [ ] Verify all resources exist (layouts, strings, drawables)&#10;- [ ] Clean and rebuild project&#10;- [ ] Ensure root permission is granted&#10;- [ ] Check if device is properly rooted&#10;- [ ] Verify package names are correct&#10;- [ ] Test shell commands manually in terminal&#10;- [ ] Check Android version compatibility&#10;- [ ] Ensure all dependencies are properly synced&#10;&#10;---&#10;&#10;## Testing Shell Commands Manually&#10;&#10;Open a terminal or ADB shell and test:&#10;&#10;```bash&#10;# Check if root works&#10;su&#10;&#10;# List all packages&#10;pm list packages&#10;&#10;# List disabled packages&#10;pm list packages -d&#10;&#10;# Try disabling an app&#10;pm disable com.whatsapp&#10;&#10;# Re-enable it&#10;pm enable com.whatsapp&#10;&#10;# Check status&#10;pm list packages -d | grep whatsapp&#10;```&#10;&#10;---&#10;&#10;## Logcat Filters&#10;&#10;Use these filters in Android Studio logcat:&#10;&#10;```&#10;# Filter by app&#10;package:com.stfu.social&#10;&#10;# Filter by tag&#10;tag:MainActivity&#10;&#10;# Filter errors&#10;level:error&#10;```&#10;&#10;---&#10;&#10;## Build Issues&#10;&#10;### Gradle Sync Failed&#10;```powershell&#10;# Clean gradle cache&#10;cd C:\Users\Alynx\Documents\stfu-git&#10;.\gradlew clean --refresh-dependencies&#10;```&#10;&#10;### R Class Not Generated&#10;```powershell&#10;# Rebuild project&#10;.\gradlew clean build&#10;```&#10;&#10;### Dependencies Not Resolving&#10;```powershell&#10;# Refresh dependencies&#10;.\gradlew build --refresh-dependencies&#10;```&#10;&#10;---&#10;&#10;## Quick Fixes&#10;&#10;### Fix 1: Reset to Known Good State&#10;```powershell&#10;cd C:\Users\Alynx\Documents\stfu-git&#10;git status&#10;# If using git, can revert changes&#10;```&#10;&#10;### Fix 2: Clear Build Cache&#10;In Android Studio:&#10;1. File → Invalidate Caches&#10;2. Select &quot;Invalidate and Restart&quot;&#10;3. Wait for indexing to complete&#10;4. Build → Rebuild Project&#10;&#10;### Fix 3: Reinstall App&#10;```powershell&#10;# Uninstall existing app&#10;adb uninstall com.stfu.social&#10;&#10;# Install fresh build&#10;.\gradlew installDebug&#10;```&#10;&#10;---&#10;&#10;## Getting More Help&#10;&#10;### Useful Log Commands&#10;&#10;```powershell&#10;# Get full logcat&#10;adb logcat &gt; logcat.txt&#10;&#10;# Filter for your app&#10;adb logcat | Select-String &quot;stfu&quot;&#10;&#10;# Get crash logs&#10;adb logcat *:E&#10;```&#10;&#10;### Check App Status&#10;&#10;```bash&#10;# Via ADB&#10;adb shell pm list packages | grep stfu&#10;adb shell dumpsys package com.stfu.social&#10;```&#10;&#10;---&#10;&#10;## Safety Notes&#10;&#10;⚠️ **Important Reminders**:&#10;1. This app requires root - use at your own risk&#10;2. Disabling system apps can cause issues&#10;3. Always keep a way to re-enable apps (this app's Quick Settings tile)&#10;4. Test on a non-production device first&#10;5. Make sure you have backups&#10;&#10;---&#10;&#10;## Changes Log&#10;&#10;### Version: Material 3 Update (November 20, 2025)&#10;- ✅ Fixed NullPointerException in checkStatus()&#10;- ✅ Added comprehensive null safety checks&#10;- ✅ Improved error handling throughout&#10;- ✅ Added try-catch blocks for robustness&#10;- ✅ Fixed unused variable warning in Qtile&#10;- ✅ Added view null checks in onCreate()&#10;&#10;---&#10;&#10;*Last Updated: November 20, 2025*&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/stfu/social/SocialAppAdapter.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/stfu/social/SocialAppAdapter.java" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="package com.stfu.social;&#10;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.TextView;&#10;import androidx.annotation.NonNull;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;import com.google.android.material.card.MaterialCardView;&#10;import com.google.android.material.imageview.ShapeableImageView;&#10;import com.google.android.material.materialswitch.MaterialSwitch;&#10;import java.util.List;&#10;&#10;public class SocialAppAdapter extends RecyclerView.Adapter&lt;SocialAppAdapter.ViewHolder&gt; {&#10;&#10;    public static class SocialAppItem {&#10;        public String packageName;&#10;        public String appName;&#10;        public int iconResId;&#10;        public boolean isInstalled;&#10;        public boolean isDisabled;&#10;&#10;        public SocialAppItem(String packageName, String appName, int iconResId) {&#10;            this.packageName = packageName;&#10;            this.appName = appName;&#10;            this.iconResId = iconResId;&#10;            this.isInstalled = false;&#10;            this.isDisabled = false;&#10;        }&#10;    }&#10;&#10;    public interface OnSwitchChangeListener {&#10;        void onSwitchChanged(SocialAppItem item, boolean isChecked);&#10;    }&#10;&#10;    private final List&lt;SocialAppItem&gt; items;&#10;    private final OnSwitchChangeListener listener;&#10;&#10;    public SocialAppAdapter(List&lt;SocialAppItem&gt; items, OnSwitchChangeListener listener) {&#10;        this.items = items;&#10;        this.listener = listener;&#10;    }&#10;&#10;    @NonNull&#10;    @Override&#10;    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {&#10;        View view = LayoutInflater.from(parent.getContext())&#10;                .inflate(R.layout.item_social_app, parent, false);&#10;        return new ViewHolder(view);&#10;    }&#10;&#10;    @Override&#10;    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {&#10;        SocialAppItem item = items.get(position);&#10;        holder.bind(item, listener);&#10;    }&#10;&#10;    @Override&#10;    public int getItemCount() {&#10;        return items.size();&#10;    }&#10;&#10;    public static class ViewHolder extends RecyclerView.ViewHolder {&#10;        private final MaterialCardView card;&#10;        private final ShapeableImageView icon;&#10;        private final TextView appName;&#10;        private final TextView statusText;&#10;        private final MaterialSwitch appSwitch;&#10;&#10;        public ViewHolder(@NonNull View itemView) {&#10;            super(itemView);&#10;            card = itemView.findViewById(R.id.app_card);&#10;            icon = itemView.findViewById(R.id.app_icon);&#10;            appName = itemView.findViewById(R.id.app_name);&#10;            statusText = itemView.findViewById(R.id.app_status);&#10;            appSwitch = itemView.findViewById(R.id.app_switch);&#10;        }&#10;&#10;        public void bind(SocialAppItem item, OnSwitchChangeListener listener) {&#10;            if (item == null) {&#10;                return;&#10;            }&#10;            &#10;            if (item.appName != null) {&#10;                appName.setText(item.appName);&#10;            }&#10;            icon.setImageResource(item.iconResId);&#10;&#10;            appSwitch.setEnabled(item.isInstalled);&#10;            appSwitch.setChecked(item.isDisabled);&#10;&#10;            if (!item.isInstalled) {&#10;                statusText.setText(R.string.not_installed);&#10;                card.setAlpha(0.6f);&#10;            } else {&#10;                statusText.setText(item.isDisabled ? R.string.disabled : R.string.enabled);&#10;                card.setAlpha(1.0f);&#10;            }&#10;&#10;            // Remove previous listener to avoid multiple triggers&#10;            appSwitch.setOnCheckedChangeListener(null);&#10;            appSwitch.setChecked(item.isDisabled);&#10;            &#10;            appSwitch.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {&#10;                if (listener != null &amp;&amp; item.isInstalled) {&#10;                    listener.onSwitchChanged(item, isChecked);&#10;                    statusText.setText(isChecked ? R.string.disabled : R.string.enabled);&#10;                    item.isDisabled = isChecked;&#10;                }&#10;            });&#10;        }&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/item_social_app.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/item_social_app.xml" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;com.google.android.material.card.MaterialCardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:id=&quot;@+id/app_card&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;wrap_content&quot;&#10;    android:layout_marginHorizontal=&quot;16dp&quot;&#10;    android:layout_marginVertical=&quot;4dp&quot;&#10;    app:cardElevation=&quot;0dp&quot;&#10;    app:strokeWidth=&quot;0dp&quot;&#10;    app:cardBackgroundColor=&quot;?attr/colorSurfaceContainer&quot;&#10;    app:cardCornerRadius=&quot;16dp&quot;&gt;&#10;&#10;    &lt;LinearLayout&#10;        android:layout_width=&quot;match_parent&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:orientation=&quot;horizontal&quot;&#10;        android:gravity=&quot;center_vertical&quot;&#10;        android:padding=&quot;16dp&quot;&gt;&#10;&#10;        &lt;com.google.android.material.imageview.ShapeableImageView&#10;            android:id=&quot;@+id/app_icon&quot;&#10;            android:layout_width=&quot;40dp&quot;&#10;            android:layout_height=&quot;40dp&quot;&#10;            android:contentDescription=&quot;@string/ImageDesc&quot;&#10;            app:shapeAppearanceOverlay=&quot;@style/ShapeAppearance.Material3.Corner.Full&quot; /&gt;&#10;&#10;        &lt;LinearLayout&#10;            android:layout_width=&quot;0dp&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_weight=&quot;1&quot;&#10;            android:layout_marginStart=&quot;16dp&quot;&#10;            android:orientation=&quot;vertical&quot;&gt;&#10;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/app_name&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:textAppearance=&quot;?attr/textAppearanceTitleMedium&quot;&#10;                android:textColor=&quot;?attr/colorOnSurface&quot;&#10;                android:text=&quot;@string/app_name_placeholder&quot; /&gt;&#10;&#10;            &lt;TextView&#10;                android:id=&quot;@+id/app_status&quot;&#10;                android:layout_width=&quot;wrap_content&quot;&#10;                android:layout_height=&quot;wrap_content&quot;&#10;                android:layout_marginTop=&quot;2dp&quot;&#10;                android:textAppearance=&quot;?attr/textAppearanceBodySmall&quot;&#10;                android:textColor=&quot;?attr/colorOnSurfaceVariant&quot;&#10;                android:text=&quot;@string/enabled&quot; /&gt;&#10;&#10;        &lt;/LinearLayout&gt;&#10;&#10;        &lt;com.google.android.material.materialswitch.MaterialSwitch&#10;            android:id=&quot;@+id/app_switch&quot;&#10;            android:layout_width=&quot;wrap_content&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:layout_marginStart=&quot;8dp&quot; /&gt;&#10;&#10;    &lt;/LinearLayout&gt;&#10;&#10;&lt;/com.google.android.material.card.MaterialCardView&gt;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>